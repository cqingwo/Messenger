<?xml version="1.0" encoding="utf-8" ?>
<!--
  ~ Copyright (C) 2017.
  ~ 用于JAVA项目开发
  ~ 重庆青沃科技有限公司 版权所有
  ~ Copyright © 2017.  CqingWo Systems Incorporated. All rights reserved.
  -->

<!DOCTYPE mapper
        PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.cqwo.strategy.rdbs.dao.AdminActionDao">


    <!--获得商城管理动作表数量-->
    <select id="GetAdminActionCount" parameterType="String" resultType="int">
        SELECT COUNT(aid) FROM [W_adminactions]
        <if test="condition != null and condition != ''">
            WHERE #{condition}
        </if>
    </select>


    <!--创建一条商城管理动作表数据-->
    <insert id="CreateAdminAction" parameterType="com.cqwo.core.domain.AdminActionInfo">
		INSERT INTO [W_adminactions]( 
		[title],		 
		[action],		 
		[parentid],		 
		[displayorder]		 
		)VALUES(
		++/1**************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************
		#{title},		 
		#{action},		 
		#{parentid},		 
		#{displayorder}		 
		)  
    </insert>


    <!--更新一条商城管理动作表数据-->
    <update id="UpdateAdminAction" parameterType="com.cqwo.core.domain.AdminActionInfo">
        UPDATE [W_adminactions] SET 
		[title] = #{title},  
		[action] = #{action},  
		[parentid] = #{parentid},  
		[displayorder] = #{displayorder}  
        WHERE [aid]=@aid;
    </update>


    <!--删除一条商城管理动作表数据-->
    <delete id="DeleteAdminActionByAid" parameterType="int">
        delete from [W_adminactions] WHERE [aid] = #{aid}
    </delete>


    <!--批量删除一批商城管理动作表数据-->
    <delete id="DeleteAdminActionByAidList" parameterType="String">
        delete from [W_adminactions] WHERE [aid] in (${aidList})
    </delete>


    <!--获得商城管理动作表一条记录-->
    <select id="GetAdminActionByAid" parameterType="int" resultType="com.cqwo.core.domain.AdminActionInfo">
        select top 1 *  from [W_adminactions] where [aid] = #{aid}
    </select>


    <!--获得获得商城管理动作表数据列表-->
    <select id="GetAdminActionList" resultType="com.cqwo.core.domain.AdminActionInfo">
        SELECT TOP ${pageSize} *
        FROM [W_adminactions]
        WHERE [aid] NOT IN
        (SELECT TOP ${count} [aid] FROM [W_adminactions]
        <if test="condition != null and condition != ''">
            WHERE ${condition}
        </if>
        order by [aid])
        <if test="condition != null and condition != ''">
            AND ${condition}
        </if>
        order by [aid]
    </select>


</mapper>

